{"ast":null,"code":"import _classCallCheck from\"/Users/bolunsun/Downloads/ebook_backup-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bolunsun/Downloads/ebook_backup-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/bolunsun/Downloads/ebook_backup-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/bolunsun/Downloads/ebook_backup-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Fragment}from'react';import{Link}from\"react-router-dom\";import{message}from\"antd\";import{connect}from'react-redux';import BooksAPI from'../../service/book';import'./BookCard.css';var BookItemComponent=/*#__PURE__*/function(_React$Component){_inherits(BookItemComponent,_React$Component);var _super=_createSuper(BookItemComponent);function BookItemComponent(){var _this;_classCallCheck(this,BookItemComponent);_this=_super.call(this);_this.handleClick=function(e,url,bookId){if(!url){e.preventDefault();message.warning('请先完成前一本书');}else{BooksAPI.openBook({bookId:bookId});}};_this.state={};return _this;}_createClass(BookItemComponent,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,bookItem=_this$props.bookItem,bookList=_this$props.bookList,users=_this$props.users;var id=bookItem.id,title=bookItem.title,_bookItem$imageLinks=bookItem.imageLinks,imageLinks=_bookItem$imageLinks===void 0?{}:_bookItem$imageLinks,_bookItem$authors=bookItem.authors,authors=_bookItem$authors===void 0?[]:_bookItem$authors,cover=bookItem.cover,url=bookItem.url;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Link,{to:{pathname:'iframe',query:{url:url,bookId:id}}},/*#__PURE__*/React.createElement(\"li\",{key:id,onClick:function onClick(e){return _this2.handleClick(e,url,id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"book\"},/*#__PURE__*/React.createElement(\"div\",{className:\"book-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"book-cover\",style:{width:128,height:193,backgroundImage:\"url(\".concat(cover,\")\"),backgroundSize:'100%'}})),/*#__PURE__*/React.createElement(\"div\",{className:\"book-title\"},title),/*#__PURE__*/React.createElement(\"div\",{className:\"book-authors\"},authors.join())))));}}]);return BookItemComponent;}(React.Component);export default connect(function(_ref){var users=_ref.users;return{users:Object.values(users)};})(BookItemComponent);","map":{"version":3,"sources":["/Users/bolunsun/Downloads/ebook_backup-master/src/components/BookCard/BookCard.js"],"names":["React","Fragment","Link","message","connect","BooksAPI","BookItemComponent","handleClick","e","url","bookId","preventDefault","warning","openBook","state","props","bookItem","bookList","users","id","title","imageLinks","authors","cover","pathname","query","width","height","backgroundImage","backgroundSize","join","Component","Object","values"],"mappings":"goBACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,MAAxB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAO,gBAAP,C,GAEMC,CAAAA,iB,kIACF,4BAAc,mDACV,wBADU,MAOdC,WAPc,CAOA,SAACC,CAAD,CAAIC,GAAJ,CAASC,MAAT,CAAoB,CAC9B,GAAI,CAACD,GAAL,CAAU,CACND,CAAC,CAACG,cAAF,GACAR,OAAO,CAACS,OAAR,CAAgB,UAAhB,EACH,CAHD,IAGO,CACHP,QAAQ,CAACQ,QAAT,CAAkB,CAAEH,MAAM,CAANA,MAAF,CAAlB,EACH,CACJ,CAda,CAEV,MAAKI,KAAL,CAAa,EAAb,CAFU,aAKb,C,qEAWQ,iCACiC,KAAKC,KADtC,CACGC,QADH,aACGA,QADH,CACaC,QADb,aACaA,QADb,CACuBC,KADvB,aACuBA,KADvB,IAGGC,CAAAA,EAHH,CAIDH,QAJC,CAGGG,EAHH,CAGOC,KAHP,CAIDJ,QAJC,CAGOI,KAHP,sBAIDJ,QAJC,CAGcK,UAHd,CAGcA,UAHd,+BAG2B,EAH3B,wCAIDL,QAJC,CAG+BM,OAH/B,CAG+BA,OAH/B,4BAGyC,EAHzC,mBAG6CC,KAH7C,CAIDP,QAJC,CAG6CO,KAH7C,CAGoDd,GAHpD,CAIDO,QAJC,CAGoDP,GAHpD,CAML,mBACI,oBAAC,QAAD,mBACI,oBAAC,IAAD,EAAM,EAAE,CACJ,CACIe,QAAQ,CAAE,QADd,CAEIC,KAAK,CAAE,CACHhB,GAAG,CAAEA,GADF,CAEHC,MAAM,CAAES,EAFL,CAFX,CADJ,eAQI,0BAAI,GAAG,CAAEA,EAAT,CAAa,OAAO,CAAE,iBAACX,CAAD,QAAO,CAAA,MAAI,CAACD,WAAL,CAAiBC,CAAjB,CAAoBC,GAApB,CAAyBU,EAAzB,CAAP,EAAtB,eACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAAEO,KAAK,CAAE,GAAT,CAAcC,MAAM,CAAE,GAAtB,CAA2BC,eAAe,eAASL,KAAT,KAA1C,CAA6DM,cAAc,CAAE,MAA7E,CAAnC,EADJ,CADJ,cAII,2BAAK,SAAS,CAAC,YAAf,EAA6BT,KAA7B,CAJJ,cAKI,2BAAK,SAAS,CAAC,cAAf,EAA+BE,OAAO,CAACQ,IAAR,EAA/B,CALJ,CADJ,CARJ,CADJ,CADJ,CAsBH,C,+BA7C2B9B,KAAK,CAAC+B,S,EAgDtC,cAAe3B,CAAAA,OAAO,CAClB,kBAAGc,CAAAA,KAAH,MAAGA,KAAH,OAAgB,CACZA,KAAK,CAAEc,MAAM,CAACC,MAAP,CAAcf,KAAd,CADK,CAAhB,EADkB,CAAP,CAGPZ,iBAHO,CAAf","sourcesContent":["\nimport React, { Fragment } from 'react'\nimport { Link } from \"react-router-dom\";\nimport { message } from \"antd\"\n\nimport { connect } from 'react-redux';\n\nimport BooksAPI from '../../service/book'\nimport './BookCard.css'\n\nclass BookItemComponent extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n\n        }\n    }\n\n    handleClick = (e, url, bookId) => {\n        if (!url) {\n            e.preventDefault();\n            message.warning('请先完成前一本书')\n        } else {\n            BooksAPI.openBook({ bookId })\n        }\n    }\n\n    render() {\n        const { bookItem, bookList, users } = this.props;\n\n        const { id, title, imageLinks = {}, authors = [], cover, url\n        } = bookItem;\n\n        return (\n            <Fragment>\n                <Link to={\n                    {\n                        pathname: 'iframe',\n                        query: {\n                            url: url,\n                            bookId: id\n                        }\n                    }}>\n                    <li key={id} onClick={(e) => this.handleClick(e, url, id)}>\n                        <div className=\"book\">\n                            <div className=\"book-top\">\n                                <div className=\"book-cover\" style={{ width: 128, height: 193, backgroundImage: `url(${cover})`, backgroundSize: '100%' }}></div>\n                            </div>\n                            <div className=\"book-title\">{title}</div>\n                            <div className=\"book-authors\">{authors.join()}</div>\n                        </div>\n                    </li>\n                </Link>\n\n            </Fragment>)\n    }\n}\n\nexport default connect(\n    ({ users }) => ({\n        users: Object.values(users)\n    }))(BookItemComponent);\n"]},"metadata":{},"sourceType":"module"}